!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Sparrow=e()}(function(){var define,module,exports;return function r(o,i,a){function c(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return c(o[t][1][e]||e)},n,n.exports,r,o,i,a)}return i[t].exports}for(var s="function"==typeof require&&require,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(U,n,r){!function(V,B){var e,t;e=this,t=function(){"use strict";function s(e){return"function"==typeof e}var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,t=void 0,o=void 0,a=function(e,t){l[r]=e,l[r+1]=t,2===(r+=2)&&(o?o(f):y())};var e="undefined"!=typeof window?window:void 0,i=e||{},c=i.MutationObserver||i.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==V&&"[object process]"==={}.toString.call(V),i="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(f,1)}}var l=new Array(1e3);function f(){for(var e=0;e<r;e+=2)(0,l[e])(l[e+1]),l[e]=void 0,l[e+1]=void 0;r=0}var p,h,m,v,y=void 0;function w(e,t){var n=this,r=new this.constructor(x);void 0===r[b]&&P(r);var o,i=n._state;return i?(o=arguments[i-1],a(function(){return D(i,r,o,n._result)})):O(n,r,e,t),r}function g(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(x);return j(t,e),t}var y=u?function(){return V.nextTick(f)}:c?(h=0,m=new c(f),v=document.createTextNode(""),m.observe(v,{characterData:!0}),function(){v.data=h=++h%2}):i?((p=new MessageChannel).port1.onmessage=f,function(){return p.port2.postMessage(0)}):(void 0===e&&"function"==typeof U?function(){try{var e=Function("return this")().require("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(f)}:d()}catch(e){return d()}}:d)(),b=Math.random().toString(36).substring(2);function x(){}var _=void 0,k=1,S=2;function E(e,r,o){a(function(t){var n=!1,e=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(o,r,function(e){n||(n=!0,(r!==e?j:T)(t,e))},function(e){n||(n=!0,I(t,e))},t._label);!n&&e&&(n=!0,I(t,e))},e)}function C(e,t,n){var r,o;t.constructor===e.constructor&&n===w&&t.constructor.resolve===g?(r=e,(o=t)._state===k?T(r,o._result):o._state===S?I(r,o._result):O(o,void 0,function(e){return j(r,e)},function(e){return I(r,e)})):void 0!==n&&s(n)?E(e,t,n):T(e,t)}function j(t,e){if(t===e)I(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!=o&&"function"!=o)T(t,e);else{var n=void 0;try{n=e.then}catch(e){return void I(t,e)}C(t,e,n)}var r,o}function A(e){e._onerror&&e._onerror(e._result),M(e)}function T(e,t){e._state===_&&(e._result=t,e._state=k,0!==e._subscribers.length&&a(M,e))}function I(e,t){e._state===_&&(e._state=S,e._result=t,a(A,e))}function O(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+k]=n,o[i+S]=r,0===i&&e._state&&a(M,e)}function M(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?D(n,r,o,i):o(i);e._subscribers.length=0}}function D(e,t,n,r){var o=s(n),i=void 0,a=void 0,c=!0;if(o){try{i=n(r)}catch(e){c=!1,a=e}if(t===i)return void I(t,new TypeError("A promises callback cannot return that same promise."))}else i=r;t._state!==_||(o&&c?j(t,i):!1===c?I(t,a):e===k?T(t,i):e===S&&I(t,i))}var H=0;function P(e){e[b]=H++,e._state=void 0,e._result=void 0,e._subscribers=[]}var R=(N.prototype._enumerate=function(e){for(var t=0;this._state===_&&t<e.length;t++)this._eachEntry(e[t],t)},N.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===g){var o,i=void 0,a=void 0,c=!1;try{i=t.then}catch(e){c=!0,a=e}i===w&&t._state!==_?this._settledAt(t._state,e,t._result):"function"!=typeof i?(this._remaining--,this._result[e]=t):n===q?(o=new n(x),c?I(o,a):C(o,t,i),this._willSettleAt(o,e)):this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},N.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===_&&(this._remaining--,e===S?I(r,n):this._result[t]=n),0===this._remaining&&T(r,this._result)},N.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,function(e){return n._settledAt(k,t,e)},function(e){return n._settledAt(S,t,e)})},N);function N(e,t){this._instanceConstructor=e,this.promise=new e(x),this.promise[b]||P(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}var q=(L.prototype.catch=function(e){return this.then(null,e)},L.prototype.finally=function(t){var n=this.constructor;return s(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},L);function L(e){this[b]=H++,this._result=this._state=void 0,this._subscribers=[],x!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof L?function(t,e){try{e(function(e){j(t,e)},function(e){I(t,e)})}catch(e){I(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return q.prototype.then=w,q.all=function(e){return new R(this,e).promise},q.race=function(o){var i=this;return n(o)?new i(function(e,t){for(var n=o.length,r=0;r<n;r++)i.resolve(o[r]).then(e,t)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},q.resolve=g,q.reject=function(e){var t=new this(x);return I(t,e),t},q._setScheduler=function(e){o=e},q._setAsap=function(e){a=e},q._asap=a,q.polyfill=function(){var e=void 0;if(void 0!==B)e=B;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=q},q.Promise=q},"object"==typeof r&&void 0!==n?n.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}.call(this,U("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:4}],2:[function(e,t,n){var r,o;r=this,o=function(){return o={},n.m=r=[function(e,t,n){"use strict";var r,o=n(2),n=(r=o)&&r.__esModule?r:{default:r};e.exports=n.default},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9)),i=r(n(3)),a=n(4);t.default=function(){if("undefined"!=typeof window){var n={history:[]},r={offset:{},threshold:0,test:a.inViewport},t=(0,o.default)(function(){n.history.forEach(function(e){n[e].check()})},100);["scroll","resize","load"].forEach(function(e){return addEventListener(e,t)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(t).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var e=function(e){if("string"==typeof e){var t=[].slice.call(document.querySelectorAll(e));return-1<n.history.indexOf(e)?n[e].elements=t:(n[e]=(0,i.default)(t,r),n.history.push(e)),n[e]}};return e.offset=function(t){if(void 0===t)return r.offset;function n(e){return"number"==typeof e}return["top","right","bottom","left"].forEach(n(t)?function(e){return r.offset[e]=t}:function(e){return n(t[e])?r.offset[e]=t[e]:null}),r.offset},e.threshold=function(e){return"number"==typeof e&&0<=e&&e<=1?r.threshold=e:r.threshold},e.test=function(e){return"function"==typeof e?r.test=e:r.test},e.is=function(e){return r.test(e,r)},e.offset(0),e}}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(r,[{key:"check",value:function(){var i=this;return this.elements.forEach(function(e){var t=i.options.test(e,i.options),n=i.current.indexOf(e),r=-1<n,o=!t&&r;t&&!r&&(i.current.push(e),i.emit("enter",e)),o&&(i.current.splice(n,1),i.emit("exit",e))}),this}},{key:"on",value:function(e,t){return this.handlers[e].push(t),this}},{key:"once",value:function(e,t){return this.singles[e].unshift(t),this}},{key:"emit",value:function(e,t){for(;this.singles[e].length;)this.singles[e].pop()(t);for(var n=this.handlers[e].length;-1<--n;)this.handlers[e][n](t);return this}}]),r);function r(e,t){(function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this),this.options=t,this.elements=e,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.default=function(e,t){return new n(e,t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inViewport=function(e,t){var n=(a=e.getBoundingClientRect()).top,r=a.right,o=a.bottom,i=a.left,e=a.width,a=a.height,i=window.innerWidth-i,n=window.innerHeight-n,e=t.threshold*e,a=t.threshold*a;return o>t.offset.top+a&&i>t.offset.right+e&&n>t.offset.bottom+a&&r>t.offset.left+e}},function(t,e){!function(e){e="object"==typeof e&&e&&e.Object===Object&&e;t.exports=e}.call(e,function(){return this}())},function(e,t,n){var r=n(5),n="object"==typeof self&&self&&self.Object===Object&&self,n=r||n||Function("return this")();e.exports=n},function(e,t,n){var w=n(1),g=n(8),b=n(10),x=Math.max,_=Math.min;e.exports=function(r,n,e){function o(e){var t=s,n=u;return s=u=void 0,h=e,l=r.apply(n,t)}function i(e){var t=e-p;return void 0===p||n<=t||t<0||v&&d<=e-h}function a(){var e,t=g();return i(t)?c(t):void(f=setTimeout(a,(t=n-((e=t)-p),v?_(t,d-(e-h)):t)))}function c(e){return f=void 0,y&&s?o(e):(s=u=void 0,l)}function t(){var e=g(),t=i(e);if(s=arguments,u=this,p=e,t){if(void 0===f)return h=t=p,f=setTimeout(a,n),m?o(t):l;if(v)return f=setTimeout(a,n),o(p)}return void 0===f&&(f=setTimeout(a,n)),l}var s,u,d,l,f,p,h=0,m=!1,v=!1,y=!0;if("function"!=typeof r)throw new TypeError("Expected a function");return n=b(n)||0,w(e)&&(m=!!e.leading,v="maxWait"in e,d=v?x(b(e.maxWait)||0,n):d,y="trailing"in e?!!e.trailing:y),t.cancel=function(){void 0!==f&&clearTimeout(f),s=p=u=f=void(h=0)},t.flush=function(){return void 0===f?l:c(g())},t}},function(e,t,n){var r=n(6);e.exports=function(){return r.Date.now()}},function(e,t,n){var i=n(7),a=n(1);e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),i(e,t,{leading:r,maxWait:t,trailing:o})}},function(e,t){e.exports=function(e){return e}}],n.c=o,n.p="",n(0);function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var r,o},"object"==typeof n&&"object"==typeof t?t.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof n?n.inView=o():r.inView=o()},{}],3:[function(e,t,n){var r,o,i,a;r=function(){function c(){for(var e=0,t={};e<arguments.length;e++){var n,r=arguments[e];for(n in r)t[n]=r[n]}return t}function u(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(s){function a(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=c({path:"/"},a.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var r=JSON.stringify(t);/^[\{\[]/.test(r)&&(t=r)}catch(e){}t=s.write?s.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o,i="";for(o in n)n[o]&&(i+="; "+o,!0!==n[o]&&(i+="="+n[o].split(";")[0]));return document.cookie=e+"="+t+i}}function t(e,t){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],o=0;o<r.length;o++){var i=r[o].split("="),a=i.slice(1).join("=");t||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var c=u(i[0]),a=(s.read||s)(a,c)||u(a);if(t)try{a=JSON.parse(a)}catch(e){}if(n[c]=a,e===c)break}catch(e){}}return e?n[e]:n}}return a.set=n,a.get=function(e){return t(e,!1)},a.getJSON=function(e){return t(e,!0)},a.remove=function(e,t){n(e,"",c(t,{expires:-1}))},a.defaults={},a.withConverter=e,a}(function(){})},"function"==typeof define&&define.amd&&(define(r),o=!0),"object"==typeof n&&(t.exports=r(),o=!0),o||(i=window.Cookies,(a=window.Cookies=r()).noConflict=function(){return window.Cookies=i,a})},{}],4:[function(e,t,n){var r,o,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s,u=[],d=!1,l=-1;function f(){d&&s&&(d=!1,s.length?u=s.concat(u):l=-1,u.length&&p())}function p(){if(!d){var e=c(f);d=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,d=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||d||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],5:[function(e,t,n){"use strict";t.exports={origin:"cn-general",method:"GET",reloadDelay:2e4,capturedQueryParams:["mbid"],capturedCookies:[{cookie_key:"amg_user_partner",sparrow_key:"cnid"},{cookie_key:"aam_uuid",sparrow_key:"aam_uuid"}],infinityID:!0,preinit:["infinityid"],autotrack:!1,grid:{granularity:100},queue:{sendThreshold:0},heartbeat:{interval:5500},events:[{selector:"window",type:["pageview","timespent"]},{selector:".mvt-variant",type:["inViewExists"],dataAttrMapper:{appID:"data-cn-application",expID:"data-cn-test",varID:"data-cn-variation"},customMapper:{_c:"variations"}},{parent:".mvt-variant",selector:".mvt-item-link",type:["inViewExists"],dataAttrMapper:{dim1:"href",appID:"data-cn-application",expID:"data-cn-test",varID:"data-cn-variation"},customMapper:{_c:"variations",_t:"linksIn-view"}},{parent:"body",selector:".mvt-item-link",type:["click"],dataAttrMapper:{dim1:"href",appID:"data-cn-application",expID:"data-cn-test",varID:"data-cn-variation"},customMapper:{_c:"variations"}}],formationVersoOrgAppId:{prod:"5QYt5Xy87uNBXaR4Wj3U2pPoRCBTTVrMHp8wN1h4BcXHZVYmf6sxzCnLQC",stag:"5QYt5Xy87uNBXaR4Wj3U2pPoRCBTTVrMHp8w22GcqVGXuZQFtUkRiAsDgn",ci:"5QYt5Xy87uNBXaR4Wj3U2pPoRCBTTVrMHp8w3xySkvwkQQpmqXrrXbqszo"},url:"//capture.condenastdigital.com/track"}},{}],6:[function(require,module,exports){!function(global){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Promise=require("es6-promise").Promise,Cookie=require("js-cookie");function _stringFunctionHelper(str){var inner="("+str+")",internal;try{internal=eval(inner)}catch(e){}return internal}function _urlHelper(){return window.location.origin+window.location.pathname}function _extendHelper(){var e=arguments,t={};if(e&&e[0])for(var n in e)for(var r in e[n])t[r]=e[n][r];return t}function _evaluateAndExtend(t){var n=this,e=arguments,r={},o=[],i=[];if(e&&e[1])for(var a in delete e[0],e)for(var c in e[a])if("function"==typeof e[a][c])i.push(c),o.push(e[a][c]);else if(e[a][c]&&e[a][c].indexOf&&0===e[a][c].indexOf("function")){var s=_stringFunctionHelper(e[a][c]);if("function"==typeof s)try{i.push(c),o.push(s)}catch(e){}}else r[c]=e[a][c];var u=o.map(function(e){return e.call(n,t,r)});return Promise.all(u).then(function(e){for(var t=0;t<e.length;t++)r[i[t]]=e[t];return r}).catch(function(){return r})}function _isFunctionHelper(e){return e&&"[object Function]"==={}.toString.call(e)}function _uuidHelper(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function _flattenObjectHelper(e,t,n){var r,o=t||{};for(r in Object(e)){var i=n?[n,r].join(":"):r;"object"===_typeof(e[r])?_flattenObjectHelper(e[r],o,i):e[r]&&(o[i]=e[r])}return o}function _spatialGridHelper(e,t){return Math.round(e/t)*t}function _paramsHelper(e){var t,n=[];for(t in e)e[t]&&n.push(t+"="+encodeURIComponent(e[t]));return n.join("&")}function _ajaxHelper(e){var t=new XMLHttpRequest,e=_extendHelper({withCredentials:!1,method:"GET"},e);return t.open(e.method,e.url),t.withCredentials=e.withCredentials,t.setRequestHeader("Accept","text/plain"),t.send(null),{done:function(e){t.onreadystatechange=function(){4===this.readyState&&(200<=this.status&&this.status<300?e(this.responseText):e(!1))},t.ontimeout=function(){e(!1)},t.onerror=function(){e(!1)}}}}function deviceType(e){if(!e)return{type:"desktop",model:""};var t=e.toLowerCase();function n(e){return e.test(t)}function r(e){return e.exec(t)}var o=["tv","tablet","mobile","desktop"],e={};return n(/googletv|smarttv|smart-tv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|roku|pov_tv|hbbtv|ce\-html/)?(e.type=o[0],e.model="smartTv"):n(/xbox|playstation.3|wii/)?(e.type=o[0],e.model="gameConsole"):n(/ip(a|ro)d/)?(e.type=o[1],e.model="ipad"):n(/tablet/)&&!n(/rx-34/)&&!n(/shield/)||n(/folio/)?(e.type=o[1],e.model=String(r(/playbook/)||"")):n(/linux/)&&n(/android/)&&!n(/fennec|mobi|htc.magic|htcX06ht|nexus.one|sc-02b|fone.945/)?(e.type=o[1],e.model="android"):n(/kindle/)||n(/mac.os/)&&n(/silk/)?(e.type=o[1],e.model="kindle"):n(/gt-p10|sc-01c|shw-m180s|sgh-t849|sch-i800|shw-m180l|sph-p100|sgh-i987|zt180|htc(.flyer|\_flyer)|sprint.atp51|viewpad7|pandigital(sprnova|nova)|ideos.s7|dell.streak.7|advent.vega|a101it|a70bht|mid7015|next2|nook/)||n(/mb511/)&&n(/rutem/)?(e.type=o[1],e.model="android"):n(/bb10/)?(e.type=o[2],e.model="blackberry"):(e.model=r(/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec|j2me/),null!==e.model?(e.type=o[2],e.model=String(e.model)):(e.model="",n(/bolt|fennec|iris|maemo|minimo|mobi|mowser|netfront|novarra|prism|rx-34|skyfire|tear|xv6875|xv6975|google.wireless.transcoder/)||n(/opera/)&&n(/windows.nt.5/)&&n(/htc|xda|mini|vario|samsung\-gt\-i8000|samsung\-sgh\-i9/)?e.type=o[2]:n(/windows.(nt|xp|me|9)/)&&!n(/phone/)||n(/win(9|.9|nt)/)||n(/\(windows 8\)/)?e.type=o[3]:n(/macintosh|powerpc/)&&!n(/silk/)?(e.type=o[3],e.model="mac"):(!n(/linux/)||!n(/x11/))&&!n(/solaris|sunos|bsd/)&&!n(/cros/)&&n(/bot|crawler|spider|yahoo|ia_archiver|covario-ids|findlinks|dataparksearch|larbin|mediapartners-google|ng-search|snappy|teoma|jeeves|tineye/)&&!n(/mobile/)?(e.type=o[3],e.model="crawler"):e.type=o[3])),e}function _lowerAllKeys(e){for(var t,n=Object.keys(e),r=n.length,o={};r--;)o[(t=n[r]).toLowerCase()]=e[t];return o}function pluck(e,t){var n={},r=_lowerAllKeys(e);return t&&Array.isArray(t)&&t.forEach(function(e){e=e.toLowerCase();Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}),n}function rand(){return Date.now()}function root(){return"object"===("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"===(void 0===global?"undefined":_typeof(global))&&global.global===global&&global||this}function _dataAttrMapper(n,r){var o={};return r&&n&&n.getAttribute&&Object.keys(r).forEach(function(e){var t=r[e],t=n.getAttribute(t);t&&(o[e]=t)}),o}function _uniqueId(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t&=t}return t}function _parseDomain(e){var t,e=e.split(".");return t=e&&1<e.length?(2===e.length?e:e.slice(1)).join("."):t}function _setSid(){try{var e=Cookie.get("sID")||_uuidHelper(),t={expires:.02},n=_parseDomain(window.location.hostname);n&&(t.domain=n),Cookie.set("sID",e,t)}catch(e){}}function _selectorMatches(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)}function _mark(e){performance&&performance.mark&&performance.mark(e)}function _measure(e,t,n){performance&&performance.measure&&performance.measure(e,t,n)}module.exports={extend:_extendHelper,evaluateAndExtend:_evaluateAndExtend,isFunction:_isFunctionHelper,flatten:_flattenObjectHelper,ajax:_ajaxHelper,params:_paramsHelper,gridReduce:_spatialGridHelper,uuid:_uuidHelper,url:_urlHelper,deviceType:deviceType,pluck:pluck,rand:rand,root:root(),dataAttrMapper:_dataAttrMapper,uniqueId:_uniqueId,setSid:_setSid,selectorMatches:_selectorMatches,mark:_mark,measure:_measure,parseDomain:_parseDomain}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"es6-promise":1,"js-cookie":3}],7:[function(e,t,n){"use strict";var r=e("../helpers");t.exports=function(e){var t=e.selector||"",n=e.dataAttrMapper||{},e=[].slice.call(document.querySelectorAll(t));if(1<=e.length){t=e[0],n=r.dataAttrMapper(t,n);if(n)return{count:e.length,category:n._c}}return{count:e.length,category:""}}},{"../helpers":6}],8:[function(e,t,n){"use strict";function o(e,t,n){window.IntersectionObserver&&t?new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&n(e.target)})},{root:null}).observe(t):r(e).on("enter",function(e){return n(e)})}function c(e,t,n){if(window.IntersectionObserver&&t)for(var r=0;r<t.length;r++)o(e,t[r],n);else o(e,null,n)}var r=e("in-view");t.exports=function(e){var r,t=e.selector||"",n=document.querySelector(e.parent)||document.body,o=e.onEnter||function(){},i=document.querySelectorAll(t),e=new Set(Array.from(i)),a=(r=e,function(e,t,n){e.reduce(function(e,t){return t.addedNodes&&t.addedNodes.length&&(e+=t.addedNodes.length),e},0)<1||(e.reduce(function(e,t){return e.push(Array.from(t.removedNodes)),e},[]).forEach(function(e){return r.delete(e)}),(e=Array.from(document.querySelectorAll(n)).filter(function(e){return!r.has(e)}))&&e.length&&(e.forEach(function(e){return r.add(e)}),c(n,e,t)))});i&&i.length&&c(t,i,o),window.MutationObserver&&new MutationObserver(function(e){return a(e,o,t)}).observe(n,{childList:!0,subtree:!0,attributes:!1,characterData:!1})}},{"in-view":2}],9:[function(s,e,t){"use strict";s("js-cookie");var u=s("../helpers"),n=[];function r(e,t){return function(e,t){if(!e)return!1;var n,r,o,i={_ts:(new Date).toISOString(),_t:e.type},a=s("../pipeline");for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r=a[n],o={},u.isFunction(r)&&(o=r(e,t)),i=u.extend(i,o));var c=u.pluck(t,["org_id","org_app_id","environment","origin"]);return u.evaluateAndExtend(e,i,t.meta,e.meta||e.options||{},c).then(function(e){return u.root.SparrowCache.event=i,e})}(e,t).then(function(e){e._c&&e._t&&(n.push(e),n.length>t.queue.sendThreshold&&o(t))})}function o(r){n.forEach(function(e){var t,n;t=e,e=r,n=new Image,t=u.flatten(t),t=u.params(t),n.src=e.url+"?"+t,setTimeout(function(){n=null},1e3),u.setSid()}),n=[]}e.exports={send:function(e,t){return r(e,t).then(function(){o(t)})}}},{"../helpers":6,"../pipeline":12,"js-cookie":3}],10:[function(e,t,n){"use strict";t.exports=function(e){var e=e||{},t=e.activeTimeout||5,n=e.heartbeat||5.5,e=(new Date).getTime(),r=e,o=e,i=0;function a(){r=(new Date).getTime()}return["focus","mousedown","mouseup","mousemove","scroll","touchstart","touchenter","keyup","keydown"].forEach(function(e){window.addEventListener(e,a,!1)}),setInterval(function(){var e=(new Date).getTime();i+=e-r<1e3*t?e-o:0,o=e},100),{sendHeartbeat:function(){var e=i/1e3,t=Math.round(e);return(i=0)<t&&0<e&&e<=n+.25?1e3*t:0}}}},{}],11:[function(e,t,n){"use strict";var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(){var e,t,n={};try{var r,o=document.getElementsByTagName("meta"),i={};for(r in o)try{var a=o[r].getAttribute("property")||o[r].getAttribute("name"),c=o[r].getAttribute("content");i[a]=c}catch(e){}i&&(n.cBr=i["og:site_name"]||"",n.cKe=i.keywords?i.keywords.toLowerCase():"",n.cCh=i.channel||i.Channel||"",n.cSch=i.subchannel||i.Subchannel||"",n.cTi=i["og:title"]||document.title||"",n.cTy=i["og:type"]||"")}catch(e){}window&&window._4d&&window._4d.context&&window._4d.context.topics&&(t=(e=window._4d.context.topics).map(function(e){return e.name}),e=e.map(function(e){return e.score}),n.cTp=t.join(", "),n.cTpw=e.join(", ")),window&&window._4d&&window._4d.context&&window._4d.context.entities&&(e=(t=window._4d.context.entities).map(function(e){return e.name}),t=t.map(function(e){return e.score}),n.cEnt=e.join(", "),n.cEnw=t.join(", "));try{var s=window.digitalData||{};0<Object.keys(s).length&&(n.cCu=s.canonical,n.cCl=s.contentLength,n.cTy=s.pageType,n.cEn=s.environment,n.cId=s.contentID,n.cCh=s.section,n.cSch=s.subsection,n.cPd=s.publishDate||"",n.ccS=s.contentSource,n.cPv=s.pageValue,n.cSt=s.searchKeywords,n.cSr=s.numOfSearchResults,n.vTn=s.test,n.vTt=s.variation)}catch(e){}try{var u=u||window.dataLayer;if(0<u.length){var d=!0,l=!1,f=void 0;try{for(var p=u[Symbol.iterator]();!(d=(x=p.next()).done);d=!0){var h=x.value,m=h.content,v=h.experiments,y=h.page,w=h.search,g=h.site;if(y&&(_=y.canonical,n.cCu=_),w&&(k=w.searchTerms,n.cSt=k||""),g&&(S=g.orgId,E=g.orgAppId,n.org_id=S,n.org_app_id=E),m){var b=m.contentLength,x=m.pageType,h=m.contentType,y=m.contentID,_=m.contentId,w=m.section,k=m.subsection,g=m.publishDate,S=m.contentSource,E=m.pageValue,C=m.display,j=m.keywords;try{n.cCl=b?parseInt(b,10):void 0}catch(e){}n.cTy=x||h,n.cId=y||_||n.cId,n.cCh=w,n.cSch=k,n.cPd=g||"",n.ccS=S,n.cPv=E||"all",n.cTi=C,n.cKe=j}v&&(C=v.appID,j=v.expID,v=v.varID,n.appID=C?C.join(","):void 0,n.expID=j?j.join(","):void 0,n.varID=v?v.join(","):void 0)}}catch(e){l=!0,f=e}finally{try{!d&&p.return&&p.return()}finally{if(l)throw f}}}}catch(e){}try{var A=document.querySelector('[type="application/ld+json"]');if(A){var T=JSON.parse(A.innerHTML),A=T,I=(A=Array.isArray(T)?T.filter(function(e){return"NewsArticle"===e["@type"]})[0]||{}:A).author;switch(void 0===I?"undefined":O(I)){case"object":I=Array.isArray(I)?I.map(function(e){return"object"===(void 0===e?"undefined":O(e))&&e.name?e.name:e}):[I.name];break;case"string":I=I.split(",");break;case"undefined":I=[];break;default:I=[]}n.cTi=A.headline||"",n.cPd=A.datePublished||"",n.cAu=I.join(",")}}catch(e){}return n}},{}],12:[function(e,t,n){"use strict";var r=e("./content"),o=e("./page"),e=e("./user");t.exports={content:r,page:o,user:e}},{"./content":11,"./page":13,"./user":14}],13:[function(e,t,n){"use strict";var s=e("../helpers");function u(e,t){e=e.split("&").reduce(function(e,t){t=t.split("=");return e[t[0]]=t[1],e},{});return s.pluck(e,t)}function d(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||"")?"documentElement":"body";return{x:e?window.pageXOffset:document[t].scrollLeft,y:e?window.pageYOffset:document[t].scrollTop}}t.exports=function(e,t){try{var n=document.createElement("a");n.href=document.referrer;var r=[window.location.protocol,"//",window.location.host,window.location.pathname.replace(/\/+$/,"")].join(""),o=[n.protocol,"//",n.host,n.pathname].join(""),i="direct"===(o=r!==o?o:"direct")?"direct":"referral";location.host===n.host&&window.location.pathname!==n.pathname&&(i="internal");var a={};window.location.search&&(a=u(0===window.location.search.indexOf("?")?window.location.search.substr(1):window.location.search,t.capturedQueryParams));n={};window.location.hash&&(n=u(window.location.hash.substr(1),t.capturedHashParams));var c=null;return[{key:"facebook",label:"facebook"},{key:"twitter",label:"twitter"},{key:"t.co/",label:"twitter"},{key:"plus.google",label:"google plus"},{key:"instagram",label:"instagram"},{key:"pinterest",label:"pinterest"},{key:"reddit",label:"reddit"},{key:"tumblr",label:"tumblr"},{key:"linkedin",label:"linkedin"}].forEach(function(e){-1<o.indexOf(e.key)&&(i="social",c=e.label)}),[{key:"www.google",label:"google"},{key:"yahoo.",label:"yahoo"},{key:"bing.",label:"bing"}].forEach(function(e){-1<o.indexOf(e.key)&&(i="search",c=e.label)}),s.extend({pHr:r,pRt:i,pRs:c,pHp:location.pathname,pRr:o,pSx:s.gridReduce(d().x,t.grid.granularity),pSy:s.gridReduce(d().y,t.grid.granularity),pWw:s.gridReduce(window.innerWidth,t.grid.granularity),pWh:s.gridReduce(window.innerHeight,t.grid.granularity),pPw:s.gridReduce((r=document,Math.max(r.body.scrollWidth,r.documentElement.scrollWidth,r.body.offsetWidth,r.documentElement.offsetWidth,r.body.clientWidth,r.documentElement.clientWidth)),t.grid.granularity),pPh:s.gridReduce((r=document,Math.max(r.body.scrollHeight,r.documentElement.scrollHeight,r.body.offsetHeight,r.documentElement.offsetHeight,r.body.clientHeight,r.documentElement.clientHeight)),t.grid.granularity),pSw:window.screen.width||0,pSh:window.screen.height||0,pAd:document.getElementsByClassName("displayAd").length},a,n)}catch(e){return{}}}},{"../helpers":6}],14:[function(e,t,n){"use strict";var l=e("js-cookie"),f=e("../helpers");t.exports=function(e,t){var n="CN_sp",r="CN_su";try{var o=e||{},i=l.get(n)||f.uuid(),a=l.get(n)?0:1,c=l.get("pID")||f.uuid(),s=l.get(r)||f.uuid(),u=l.get(r)?0:1;l.set(n,i),l.set(r,s,{expires:30}),l.set("pID",c);var d={};return(t.capturedCookies||Array.isArray(t.capturedCookies))&&t.capturedCookies.map(function(e){if(e.cookie_key&&e.sparrow_key){var t=Object.create({});return t[e.sparrow_key]=l.get(e.cookie_key),t}return{}}).forEach(function(e){d=f.extend(d,e)}),f.extend({uID:i,uNw:a,uUq:u,sID:l.get("sID"),pID:c,uMx:f.gridReduce(o.x||o.pageX||o.screenX||0,t.grid.granularity),uMy:f.gridReduce(o.y||o.pageY||o.screenX||0,t.grid.granularity),uDt:f.deviceType(window.navigator.userAgent||window.navigator.vendor||window.opera||"").type},d)}catch(o){return{}}}},{"../helpers":6,"js-cookie":3}],15:[function(e,t,n){"use strict";var i=e("../helpers");t.exports=function(n){var t=this,r=2;function o(e,t){--r;t=JSON.parse(t);window._4d[e]=t,i.mark("4d-load-"+e+"-end"),i.measure("4d-load-"+e,"4d-load-"+e+"-start","4d-load-"+e+"-end"),0===r&&n({})}window._4d=window._4d||{},i.mark("4d-load-context-start"),i.ajax({url:"//4d.condenastdigital.com/content?url="+i.url()}).done(o.bind(this,"context")),i.mark("4d-load-user-start"),i.ajax({url:"//infinityid.condenastdigital.com/?rand="+i.rand(),withCredentials:!0}).done(function(e){i.ajax({url:"//4d.condenastdigital.com/user?xid="+e}).done(o.bind(t,"user"))})}},{"../helpers":6}],16:[function(e,t,n){"use strict";var r=e("./4d"),o=e("./infinityid"),i=e("./infinityid-nocache"),e=e("./user-context");t.exports={"4d":r,infinityid:o,"infinityid-nocache":i,"user-context":e}},{"./4d":15,"./infinityid":18,"./infinityid-nocache":17,"./user-context":19}],17:[function(e,t,n){"use strict";var r=e("../helpers");t.exports=function(t){r.ajax({url:"//infinityid.condenastdigital.com/?rand="+r.rand(),withCredentials:!0}).done(function(e){window.SparrowCache=window.SparrowCache||{},window.SparrowCache.xid=e,t({xID:e})})}},{"../helpers":6}],18:[function(e,t,n){"use strict";var r=e("js-cookie"),o=e("../helpers");function i(e){try{window.permutive&&window.permutive.identify&&window.permutive.identify([{id:e,tag:"xid"}])}catch(e){}}t.exports=function(t){window.SparrowCache=window.SparrowCache||{};var e=null;try{e=r.get("CN_xid")}catch(e){}e&&"false"!==e&&!1!==e?(i(window.SparrowCache.xid=e),t({xID:e})):o.ajax({url:"//infinityid.condenastdigital.com/?rand="+o.rand(),withCredentials:!0}).done(function(e){window.SparrowCache.xid=e;try{r.set("CN_xid",e,{expires:18}),o.ajax({url:"/infinityid",withCredentials:!0})}catch(e){}i(e),t({xID:e})})}},{"../helpers":6,"js-cookie":3}],19:[function(e,t,n){"use strict";var r=e("../helpers"),o=e("./infinityid"),i=e("es6-promise").Promise,a="4d-load-start",c="4d-load-end",s="4d-load-user-start",u="4d-load-user-end",d="4d-load-context-start",l="4d-load-context-end";t.exports=function(t){window._4d=window._4d||{};var e=new i(function(n){o(function(e){var t=e.xID;window._4d.user&&Object.keys(window._4d.user).length?t?n({xID:t}):n():t?(r.mark(s),r.ajax({url:"https://4d.condenastdigital.com/user?xid="+encodeURIComponent(t)}).done(function(e){try{window._4d.user=JSON.parse(e),r.mark(u),r.measure("4d-load-user",s,u)}catch(e){}n({xID:t})})):(window._4d.user=window._4d.user||{},n())})}),n=new i(function(t){window._4d.context&&Object.keys(window._4d.context).length?t():(r.mark(d),r.ajax({url:"https://4d.condenastdigital.com/content?url="+encodeURIComponent(r.url())}).done(function(e){try{window._4d.context=JSON.parse(e),r.mark(l),r.measure("4d-load-context",d,l)}catch(e){}t()}))});r.mark(a),i.all([e,n]).then(function(e){r.mark(c),r.measure("4d-load",a,c),t(e[0])}).catch(function(e){console.warn("user context preinit error",e),t({})})}},{"../helpers":6,"./infinityid":18,"es6-promise":1}],20:[function(f,e,t){"use strict";var n,r,p=f("js-cookie"),h=f("./lib/timespent"),m=f("./lib/elementExists"),v=f("./lib/inViewExists"),y=f("./lib/messenger"),w=f("./helpers"),g=f("./config");function o(e){var r=void 0,i={},n={};function a(t){var e=t.selector?t.type+t.selector:t.type;return void 0===n[e]&&(n[e]=i.events.filter(function(e){return 0<=e.type.indexOf(t.type)&&(!t.selector||e.selector===t.selector)})),n[e]}var t,o,c,s={pageview:function(t){a(t).forEach(function(e){t.meta=w.extend(t.meta||{},e.meta||{}),y.send(t,i)})},inViewExists:function(o){a(o).forEach(function(r){var e={selector:r.selector,parent:r.parent,onEnter:function(e){var t=w.extend(o),n={};r.dataAttrMapper&&(n=w.dataAttrMapper(e,r.dataAttrMapper)),r.customMapper&&(n=w.extend(n,r.customMapper)),t.meta=w.extend(t.meta||{},{_v:1,_t:"in-view"},n,r.meta),y.send(t,i)}};v(e)})},elementExists:function(n){a(n).forEach(function(e){var t=m(e);n.meta=w.extend(n.meta||{},{_v:t.count,_t:"exists",_c:t.category},e.meta),y.send(n,i)})},timespent:function(t){var n=a(t);setInterval(function(){var e=r.sendHeartbeat();0<e&&(t.meta=w.extend(t.meta||{},{_v:e}),n.forEach(function(e){t.meta=w.extend(t.meta||{},e.meta||{}),y.send(t,i)}))},i.heartbeat.interval)}};function u(o){function r(e,t){var n=w.extend(t),r=o.dataAttrMapper||{},t=o.customMapper||{},r=w.dataAttrMapper(e,r);r&&(n.meta=r),t&&(n.meta=w.extend(n.meta,t,o.meta)),y.send(n,i)}o.type=o.type[0]?o.type:[o.type];var e=void 0,e=o.parent?[document.querySelector(o.parent)]:Array.prototype.slice.call(document.querySelectorAll(o.selector));o.type.forEach(function(t){var n={selector:o.selector,type:t};d(i,n)||(Object.prototype.hasOwnProperty.call(s,t)?s[t](n):e.forEach(function(e){d(i,n,e)||e.addEventListener(t,function(e){if(o.parent){for(var t=e.target;t&&t!==this;t=t.parentNode)if(w.selectorMatches(t,o.selector)){r(t,n);break}}else r(e.currentTarget,n)},!1)}))})}function d(e,t,n){t=e.origin+"/"+t.selector+"/"+t.type;if(n&&(t+="/"+w.uniqueId(n.className+n.id+n.localName+n.innerHTML)),-1<w.root.SparrowCache.events.indexOf(t))return 1;w.root.SparrowCache.events.push(t)}function l(){var t,e,n;i.autotrack&&(t=window.history,n=t.pushState,window.popstateEventProxy||(e=function(){setTimeout(function(){y.send({type:"pageview"},i)},10)},t.pushState=function(e){return"function"==typeof t.onpushstate&&t.onpushstate({state:e}),n.apply(t,arguments)},window.popstateEventProxy=new function(e){this.event=e,this.isBound=!1,this.bindPopstateEvent=function(){window.addEventListener("popstate",this.event),window.addEventListener("onhashchange",this.event),t.onpushstate=this.event,this.isBound=!0},this.removePopstateEvent=function(){window.removeEventListener("popstate",this.event),t.onpushstate={}}}(e),window.popstateEventProxy.bindPopstateEvent()))}return t=e,"undefined"!=typeof window&&((t=(c=t)||{}).meta=c.meta||{},t.autotrack=c.autotrack||!1,t.meta._o=t.meta._o||t.origin||g.origin,t.meta._c=t.meta._c||t.campaign||g.campaign||"general",i=w.extend(g,t),g.capturedCookies&&Array.isArray(g.capturedCookies)&&(i.capturedCookies=g.capturedCookies.concat(t.capturedCookies||[])),"verso"===window.CN_STACK_TEMP&&i.formationVersoOrgAppId&&i.formationVersoOrgAppId[i.environment]&&(i.org_app_id=i.formationVersoOrgAppId[i.environment]),function(){try{w.setSid(),w.root.sparrowInitialize||(w.root.sparrowInitialize=!0,p.set("pID",w.uuid()))}catch(e){}}(),r=h(),Array.isArray(i.preinit)&&0<i.preinit.length?(o=i.preinit.length,i.preinit.forEach(function(e){f("./preinit")[e](function(e){o--,i.meta=w.extend(i.meta,e),0===o&&i&&i.events&&i.events.forEach(function(e){u(e)})})})):i&&i.events&&i.events.forEach(function(e){u(e)}),l()),{track:function(e,t,n){n={type:t,meta:w.extend({_c:e},n)},y.send(n,i)},options:function(){return i},bind:u,trackPageView:function(){y.send({type:"pageview"},i)}}}w.root.SparrowCache=w.root.SparrowCache||{events:[],pixels:[]},n=0,r=setInterval(function(){if(w.root.SparrowConfig){var e=w.root.SparrowConfig;return w.root.SparrowCache.pixels.push(new o(e)),void clearInterval(r)}n>g.reloadDelay?clearInterval(r):n+=200},200),e.exports=o},{"./config":5,"./helpers":6,"./lib/elementExists":7,"./lib/inViewExists":8,"./lib/messenger":9,"./lib/timespent":10,"./preinit":16,"js-cookie":3}]},{},[20])(20)});
